/**
 * Skylake
 *
 * Version   →  4.0.1
 * Github    →  https://github.com/ariiiman/skylake
 * License   →  http://opensource.org/licenses/MIT
 * Author    →  Copyright © 2017 Aristide Benoist
 * Website   →  www.aristidebenoist.com
 * Date      →  May 9, 2017
 */
var S={};module.exports=S,S.Merom=function(t,i,e,n,s,r,o){this.el=S.Selector.el(t),this.elL=this.el.length,this.prop=i,this.origin={start:e,end:n},S.Is.object(s)?(this.duration=0,this.ease="linear",this.opts=s):(this.duration=s||0,this.ease=r||"linear",this.opts=o||!1),this.delay=this.opts.delay||0,this.callbackDelay=this.opts.callbackDelay||0,this.cb=this.opts.callback,this.round=1e3,this.unit="",this.noMultiT=!S.Is.array(this.prop);var h;if(this.noMultiT)"3dx"!==this.prop&&"3dy"!==this.prop&&"height"!==this.prop&&"width"!==this.prop||(this.unit=this.getUnit(this.origin.start)),h=this.origin.end-this.origin.start;else{this.qty=this.prop.length;for(a=0;a<this.qty;a++)"3dx"===this.prop[a]?this.unitX=this.getUnit(this.origin.start[a]):"3dy"===this.prop[a]&&(this.unitY=this.getUnit(this.origin.start[a]));for(var a=0;a<this.qty;a++)if(this.origin.start[a]!==this.origin.end[a]){this.no=a;break}h=this.origin.end[this.no]-this.origin.start[this.no]}this.update=this.noMultiT?this.singleUp():this.multiT,this.coeff=this.duration/Math.abs(h),this.easePack=S.EasePack,this.raf=new S.RafIndex,this.curr=this.origin.start,S.BindMaker(this,["getRaf","loop"])},S.Merom.prototype={play:function(t){this.init(0,t),setTimeout(this.getRaf,this.delay)},pause:function(){this.isPaused=!0},reverse:function(t){this.init(1,t),this.getRaf()},init:function(t,i){this.pause(),this.needEnd=!0;var e=1===t?"start":"end";this.end=this.origin[e],this.start=this.curr;var n=this.noMultiT?this.end-this.start:this.end[this.no]-this.start[this.no];this.duration=Math.abs(n)*this.coeff,i?(this.end=i.newEnd||this.end,this.duration=i.duration||this.duration,this.ease=i.ease||this.ease,this.cb=i.callback||!1,this.delay=i.delay||0,this.callbackDelay=i.callbackDelay||0):1===t&&(this.cb=!1,this.delay=0,this.callbackDelay=0)},getRaf:function(){this.isPaused=!1,this.startTime=Date.now(),this.raf.start(this.loop)},loop:function(){if(!this.isPaused){var t=Math.min((Date.now()-this.startTime)/this.duration,1),i=this.easePack[this.ease](t);if(this.noMultiT)this.curr=this.lerp(+this.start,+this.end,i);else{this.curr=[];for(var e=0;e<this.qty;e++)this.curr[e]=this.lerp(+this.start[e],+this.end[e],i)}this.update(this.curr),t<1?this.raf.start(this.loop):this.needEnd&&(this.needEnd=!1,this.raf.cancel(),this.update(this.end),this.cb&&setTimeout(this.cb,this.callbackDelay))}},lerp:function(t,i,e){return Math.round(S.Lerp.init(t,i,e)*this.round)/this.round},singleUp:function(){switch(this.prop){case"3dx":case"3dy":case"scale":case"rotate":case"rotateX":case"rotateY":return this.singleT;case"scrollTop":return this.setScrollTop;default:return this.setStyle}},multiT:function(t){for(var i=0,e=0,n="",s="",r=0;r<this.qty;r++)"3dx"===this.prop[r]?i=t[r]+this.unitX:"3dy"===this.prop[r]?e=t[r]+this.unitY:"rotate"===this.prop[r].substring(0,6)?n=this.prop[r]+"("+t[r]+"deg)":"scale"===this.prop[r]&&(s="scale("+t[r]+")");var o="translate3d("+i+","+e+",0)"+" "+n+" "+s;this.updateDom("t",o)},singleT:function(t){var i;if("3dx"===this.prop||"3dy"===this.prop){var e=t+this.unit;i="translate3d("+("3dx"===this.prop?e+",0":"0,"+e)+",0)"}else i="rotate"===this.prop.substring(0,6)?this.prop+"("+t+"deg)":"scale("+t+")";this.updateDom("t",i)},setScrollTop:function(t){this.el[0][this.prop]=t},setStyle:function(t){this.updateDom(this.prop,t)},updateDom:function(t,i){for(var e=0;e<this.elL;e++)"t"===t?(this.el[e].style.webkitTransform=i,this.el[e].style.transform=i):"x"===t||"y"===t||"r"===t?this.el[e].setAttribute(t,i):this.el[e].style[t]=i+this.unit},getUnit:function(t){return S.Is.string(t)?"px":"%"}},S.AnimatedLine=function(t){this.el=S.Selector.el(t.el),this.elL=this.el.length,this.elWL=t.elWithLength,this.duration=t.duration,this.ease=t.ease,this.shapeLength=[],this.cb=[],this.merom=[];for(var i=0;i<this.elL;i++)this.shapeLength[i]=this.getShapeLength(this.el[i]),this.cb[i]=i===this.elL-1&&t.callback,this.el[i].style.strokeDasharray=this.shapeLength[i],this.el[i].style.opacity=1,this.merom[i]=new S.Merom(this.el[i],"strokeDashoffset",this.shapeLength[i],0,this.duration,this.ease,{callback:this.cb[i]})},S.AnimatedLine.prototype={play:function(t){for(var i=0;i<this.elL;i++)this.merom[i].play(t)},pause:function(){for(var t=0;t<this.elL;t++)this.merom[t].pause()},reverse:function(t){for(var i=0;i<this.elL;i++)this.merom[i].reverse(t)},getShapeLength:function(t){return"circle"===t.tagName?2*t.getAttribute("r")*Math.PI:(t=this.elWL||t).getTotalLength()}},S.Morph=function(t){this.type="polygon"===t.type?"points":"d",this.el=S.Selector.el(t.element),this.elL=this.el.length,this.ease=t.ease,this.duration=t.duration,this.delay=t.delay||0,this.cbDelay=t.callbackDelay||0,this.cb=t.callback,this.round=1e3,this.origin={start:this.el[0].getAttribute(this.type),end:t.newCoords},this.origin.arr={start:this.getArr(this.origin.start),end:this.getArr(this.origin.end)},this.qty=this.origin.arr.start.length;for(var i=0;i<this.qty;i++){if(this.origin.arr.start[i]!==this.origin.arr.end[i]){this.coeff=this.duration/Math.abs(this.origin.arr.end[i]-this.origin.arr.start[i]),this.no=i;break}this.coeff=0,this.no=0}this.curr=this.origin.start,this.easePack=S.EasePack,this.raf=new S.RafIndex,S.BindMaker(this,["getRaf","loop"])},S.Morph.prototype={play:function(){this.init(0),setTimeout(this.getRaf,this.delay)},pause:function(){this.isPaused=!0},reverse:function(){this.init(1),this.getRaf()},init:function(t){this.pause();var i=1===t?"start":"end";this.end=this.origin[i],this.endArr=this.origin.arr[i],this.startArr=this.getArr(this.curr),this.duration=Math.abs(this.endArr[this.no]-this.startArr[this.no])*this.coeff},getRaf:function(){this.isPaused=!1,this.startTime=Date.now(),this.raf.start(this.loop)},loop:function(){if(!this.isPaused){for(var t=Math.min((Date.now()-this.startTime)/this.duration,1),i=this.easePack[this.ease](t),e=[],n=[],s="",r=0;r<this.qty;r++)e[r]=this.isLetter(this.startArr[r]),n[r]=e[r]?this.startArr[r]:Math.round(S.Lerp.init(+this.startArr[r],+this.endArr[r],i)*this.round)/this.round,s+=n[r]+" ",this.curr=s.trim();this.updateDom(this.curr),t<1?this.raf.start(this.loop):(this.raf.cancel(),this.updateDom(this.end),this.getCb())}},updateDom:function(t){for(var i=0;i<this.elL;i++)this.el[i].setAttribute(this.type,t)},getArr:function(t){for(var i=t.split(" "),e=[],n=0;n<i.length;n++)for(var s=i[n].split(","),r=0;r<s.length;r++)e.push(+s[r]);return e},isLetter:function(t){return"M"===t||"L"===t||"C"===t||"Z"===t},getCb:function(){this.cb&&setTimeout(this.cb,this.cbDelay)}},S.Timeline=function(){this.content=[],this.contentL=function(){return this.content.length}},S.Timeline.prototype={from:function(t,i,e,n,s,r,o){if(this.contentL()>0){var o=o||{},h=this.content[this.contentL()-1].delay,a=s&&S.Is.object(s);a&&s.delay?s.delay=h+s.delay:a?s.delay=h:o.delay?o.delay=h+o.delay:o.delay=h}this.content.push(new S.Merom(t,i,e,n,s,r,o))},play:function(){for(var t=0;t<this.contentL();t++)this.content[t].play()},pause:function(){for(var t=0;t<this.contentL();t++)this.content[t].pause()},reverse:function(t){for(var i=0;i<this.contentL();i++){const e=t?t[i]:void 0;this.content[i].reverse(e)}}},S.BindMaker=function(t,i){for(var e=i.length,n=0;n<e;n++)t[i[n]]=t[i[n]].bind(t)};var e={s:1.70158,q:2.25,r:1.525,u:.984375,v:7.5625,w:.9375,x:2.75,y:2.625,z:.75};S.EasePack={linear:function(t){return t},Power1In:function(t){return 1-Math.cos(t*(Math.PI/2))},Power1Out:function(t){return Math.sin(t*(Math.PI/2))},Power1InOut:function(t){return-.5*(Math.cos(Math.PI*t)-1)},Power2In:function(t){return t*t},Power2Out:function(t){return t*(2-t)},Power2InOut:function(t){return t<.5?2*t*t:(4-2*t)*t-1},Power3In:function(t){return t*t*t},Power3Out:function(t){return--t*t*t+1},Power3InOut:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},Power4In:function(t){return t*t*t*t},Power4Out:function(t){return 1- --t*t*t*t},Power4InOut:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},Power5In:function(t){return t*t*t*t*t},Power5Out:function(t){return 1+--t*t*t*t*t},Power5InOut:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t},ExpoIn:function(t){return 0===t?0:Math.pow(2,10*(t-1))},ExpoOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},ExpoInOut:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},CircIn:function(t){return-(Math.sqrt(1-t*t)-1)},CircOut:function(t){return Math.sqrt(1-Math.pow(t-1,2))},CircInOut:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},BackIn:function(t){return t*t*((e.s+1)*t-e.s)},BackOut:function(t){return(t-=1)*t*((e.s+1)*t+e.s)+1},BackInOut:function(t){return(t/=.5)<1?t*t*((1+(e.s*=e.r))*t-e.s)*.5:.5*((t-=2)*t*((1+(e.s*=e.r))*t+e.s)+2)},Elastic:function(t){return-1*Math.pow(4,-8*t)*Math.sin((6*t-1)*(2*Math.PI)/2)+1},SwingFromTo:function(t){return(t/=.5)<1?t*t*((1+(e.s*=e.r))*t-e.s)*.5:.5*((t-=2)*t*((1+(e.s*=e.r))*t+e.s)+2)},SwingFrom:function(t){return t*t*((e.s+1)*t-e.s)},SwingTo:function(t){return(t-=1)*t*((e.s+1)*t+e.s)+1},Bounce:function(t){return t<1/e.x?e.v*t*t:t<2/e.x?e.v*(t-=1.5/e.x)*t+e.z:t<2.5/e.x?e.v*(t-=e.q/e.x)*t+e.w:e.v*(t-=e.y/e.x)*t+e.u},BouncePast:function(t){return t<1/e.x?e.v*t*t:t<2/e.x?2-(e.v*(t-=1.5/e.x)*t+e.z):t<2.5/e.x?2-(e.v*(t-=e.q/e.x)*t+e.w):2-(e.v*(t-=e.y/e.x)*t+e.u)}},S.Is={string:function(t){return"string"==typeof t},object:function(t){return t===Object(t)},array:function(t){return t.constructor===Array}},S.Lerp={init:function(t,i,e){return t+(i-t)*e},extend:function(t,i,e,n,s){return n+(s-n)/(e-i)*(t-1)}},S.Sniffer={uA:navigator.userAgent.toLowerCase(),get isAndroid(){const t=/android.*mobile/.test(this.uA);return t||!t&&/android/i.test(this.uA)},get isFirefox(){return this.uA.indexOf("firefox")>-1},get safari(){return this.uA.match(/version\/[\d\.]+.*safari/)},get isSafari(){return!!this.safari&&!this.isAndroid},get isSafariOlderThan8(){var t=8;return this.isSafari&&(t=+this.safari[0].match(/version\/\d{1,2}/)[0].split("/")[1]),t<8},get isIEolderThan11(){return this.uA.indexOf("msie")>-1},get isIE11(){return navigator.appVersion.indexOf("Trident/")>0},get isIE(){return this.isIEolderThan11||this.isIE11},get isMac(){return navigator.platform.toLowerCase().indexOf("mac")>-1},get isTouch(){return"ontouchstart"in window}},S.Throttle=function(t){this.delay=t.delay,this.cb=t.callback,this.onlyAtEnd=t.onlyAtEnd,this.last,this.timer},S.Throttle.prototype={init:function(){var t=this,i=Date.now();this.last&&i<this.last+this.delay?(clearTimeout(this.timer),this.timer=setTimeout(function(){t.last=i,t.cb()},this.delay)):(this.last=i,this.onlyAtEnd||this.cb())}},S.Geb={parent:function(t){return t||document},id:function(t,i){return this.parent(i).getElementById(t)},class:function(t,i){return this.parent(i).getElementsByClassName(t)},tag:function(t,i){return this.parent(i).getElementsByTagName(t)}},S.Dom={html:document.documentElement,body:document.body},S.Selector={el:function(t){var i=[];if(S.Is.string(t)){const e=t.substring(1);"#"===t.charAt(0)?i[0]=S.Geb.id(e):i=S.Geb.class(e)}else i[0]=t;return i},type:function(t){return"#"===t.charAt(0)?"id":"class"},name:function(t){return t.substring(1)}},S.Index={index:function(t,i){for(var e=i.length,n=0;n<e;n++)if(t===i[n])return n;return-1},list:function(t){var i=t.parentNode.children;return this.index(t,i)},class:function(t,i){var e=S.Geb.class(i);return this.index(t,e)}},S.MM=function(t){this.cb=t,this.posX=0,this.posY=0,this.rafTicking=new S.RafTicking,S.BindMaker(this,["getRAF","run"])},S.MM.prototype={on:function(){this.listeners("add")},off:function(){this.listeners("remove")},listeners:function(t){S.Listen(document,t,"mousemove",this.getRAF)},getRAF:function(t){this.e=t,this.rafTicking.start(this.run)},run:function(){this.posX=this.e.pageX,this.posY=this.e.pageY,this.cb(this.posX,this.posY)}},S.RO=function(t){this.opts=t,this.cb=this.opts.callback,this.isTouch=S.Sniffer.isTouch,S.BindMaker(this,["getThrottle","getRAF"]),this.throttle=new S.Throttle({callback:this.getRAF,delay:this.opts.throttle.delay,onlyAtEnd:this.opts.throttle.onlyAtEnd}),this.rafTicking=new S.RafTicking},S.RO.prototype={on:function(){this.listeners("add")},off:function(){this.listeners("remove")},listeners:function(t){this.isTouch?S.Listen(window,t,"orientationchange",this.getThrottle):S.Listen(window,t,"resize",this.getThrottle)},getThrottle:function(){this.throttle.init()},getRAF:function(){this.rafTicking.start(this.cb)}},S.Scroll=function(t){this.opts=t,this.cb=this.opts.callback,S.BindMaker(this,["getThrottle","getRAF","run"]),this.throttle=new S.Throttle({callback:this.getRAF,delay:this.opts.throttle.delay,onlyAtEnd:this.opts.throttle.onlyAtEnd}),this.rafTicking=new S.RafTicking},S.Scroll.prototype={on:function(){this.startScrollY=S.Win.pageY,this.listeners("add")},off:function(){this.listeners("remove")},listeners:function(t){S.Listen(window,t,"scroll",this.getThrottle)},getThrottle:function(){this.throttle.init()},getRAF:function(){this.rafTicking.start(this.run)},run:function(){var t=pageYOffset,i=-(t-this.startScrollY);this.startScrollY=t,this.cb(t,i)}},S.WTDisable={prevent:function(t){t.preventDefault()},listeners:function(t){var i;if(S.Sniffer.isTouch){var e="add"===t?"none":"";S.Dom.body.style.touchAction=e,i="touchmove"}else i="mouseWheel";S.Listen(document,t,i,this.prevent)},on:function(){this.listeners("add")},off:function(){this.listeners("remove")}},S.WT=function(t){this.cb=t,this.isTouch=S.Sniffer.isTouch,this.rafTicking=new S.RafTicking,S.BindMaker(this,["touchStart","getRAF","run"])},S.WT.prototype={on:function(){this.listeners("add")},off:function(){this.listeners("remove")},listeners:function(t){var i=document;this.isTouch?(S.Listen(i,t,"touchstart",this.touchStart),S.Listen(i,t,"touchmove",this.getRAF)):S.Listen(i,t,"mouseWheel",this.getRAF)},getRAF:function(t){this.e=t,this.e.preventDefault(),this.rafTicking.start(this.run)},run:function(){const t=this.e.type;"wheel"===t?this.onWheel():"mousewheel"===t?this.onMouseWheel():"touchmove"===t&&this.touchMove()},onWheel:function(){this.type="scroll",this.delta=this.e.wheelDeltaY||-1*this.e.deltaY,S.Sniffer.isFirefox&&1===this.e.deltaMode&&(this.delta*=40),this.getCb()},onMouseWheel:function(){this.type="scroll",this.delta=this.e.wheelDeltaY?this.e.wheelDeltaY:this.e.wheelDelta,this.getCb()},touchStart:function(t){this.start=t.targetTouches[0].pageY},touchMove:function(){this.type="touch",this.delta=this.e.targetTouches[0].pageY-this.start,this.getCb()},getCb:function(){this.cb(this.delta,this.type,this.e)}},S.Listen=function(t,i,e,n){var s,r=document,o=(t=S.Selector.el(t)).length;s="mouseWheel"===e?"onwheel"in r?"wheel":void 0!==r.onmousewheel?"mousewheel":"DOMMouseScroll":"focusOut"===e?S.Sniffer.isFirefox?"blur":"focusout":e;for(var h=0;h<o;h++)t[h][i+"EventListener"](s,n)},S.Raf=function(t){requestAnimationFrame(t)},S.RafIndex=function(){this.start=function(t){this.rafCb=S.Raf(t)},this.cancel=function(){cancelAnimationFrame(this.rafCb)}},S.RafTicking=function(){this.ticking=!1,this.rafIndex=new S.RafIndex,S.BindMaker(this,["getCb"])},S.RafTicking.prototype={start:function(t){this.cb=t,this.ticking||(this.ticking=!0,this.rafIndex.start(this.getCb))},getCb:function(){this.cb(),this.destroy()},destroy:function(){this.rafIndex.cancel(),this.ticking=!1}},S.ScrollToTop=function(t){var i=t,e=S.Win.pageY,n={destination:0,duration:function(){var t=S.Lerp.init(300,1500,e/i.totalHeight);return 0===e?0:t}(),ease:function(){return e<=2500?"Power"+Math.ceil(e/500)+"InOut":"ExpoInOut"}(),callback:i.callback};S.ScrollTo(n)},S.ScrollTo=function(t){function i(){S.WTDisable.off(),e.callback&&e.callback()}var e=t,n=S.Sniffer.isFirefox||S.Sniffer.isIE?document.documentElement:S.Dom.body,s=S.Win.pageY,r=new S.Merom(n,"scrollTop",s,e.destination,e.duration,e.ease,{callback:i});e.destination===s?i():(S.WTDisable.on(),r.play())},S.ScrollZero=function(){window.scrollTo(0,0)},S.TopWhenRefresh=function(){window.onbeforeunload=function(){window.scrollTo(0,0)}},S.Win={get w(){return innerWidth},get h(){return innerHeight},get path(){return location.pathname},get hostname(){return location.hostname},get href(){return location.href},get pageY(){return pageYOffset}};